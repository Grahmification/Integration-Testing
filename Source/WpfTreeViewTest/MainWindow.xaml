<Window x:Class="WpfTreeViewTest.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfTreeViewTest"
        xmlns:vm="clr-namespace:WpfTreeViewTest.ViewModels"
        xmlns:pt="http://propertytools.org/wpf"
        mc:Ignorable="d"
        Title="{Binding Title}" Height="650" Width="500">

    <Window.DataContext>
        <vm:MainVM/>
    </Window.DataContext>

    <Window.Resources>
        <DataTemplate DataType="{x:Type vm:NodeVM}">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <pt:EditableTextBlock Grid.Column="0" Text="{Binding Name}"/>
            </Grid>
        </DataTemplate>
    </Window.Resources>

    <DockPanel>
        <StatusBar DockPanel.Dock="Bottom">
            <TextBlock Text="SelectedItem: "/>
            <TextBlock Text="{Binding SelectedItem.Name, ElementName=tree1}"/>
            <Separator/>
            <TextBlock Text="SelectedItems: "/>
            <TextBlock Text="{Binding SelectedItems.Count, ElementName=tree1}"/>
            <Separator/>
            <TextBlock Text="SelectedIndex: "/>
            <TextBlock Text="{Binding SelectedIndex, ElementName=tree1}"/>
            <Separator/>
            <Slider Width="100" Value="{Binding Indentation, ElementName=tree1}" Maximum="25"/>
            <TextBlock/>
        </StatusBar>
        <pt:TreeListBox 
            x:Name="tree1" 
            Indentation="12" 
            HierarchySource="{Binding Root}"
            BorderThickness="0" 
            KeyDown="tree1_KeyDown"/>
    </DockPanel>

</Window>
